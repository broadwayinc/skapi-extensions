<!DOCTYPE html>
<script src="js/pager.js"></script>

<h1>pager.ts</h1>
<p>Sample page for pager.ts</p>
<pre>
    pager.ts is a TypeScript library for paging data.
    The built files are in the /js folder.

    - js/pager_worker.js: Web Worker code
    - js/pager.js: Main code
</pre>

<script>
    // Read the web worker code
    const worker = new Worker(
        new URL('js/pager_worker.js', import.meta.url),
        {type: 'module'}
    );

    // setup pager
    const pager = new Pager(worker, {
        id: 'unique_id', // key name for unique id
        sortBy: 'name', // key name for sorting
        order: 'asc',
        resultsPerPage: 5
    });

    let data = [
        {
            unique_id: 1,
            name: 'John',
        },
        {
            unique_id: 2,
            name: 'Jane',
        },
        {
            unique_id: 3,
            name: 'Joe',
        },
        {
            unique_id: 4,
            name: 'Jack',
        },
        {
            unique_id: 5,
            name: 'Jill',
        },
        {
            unique_id: 6,
            name: 'James',
        },
        {
            unique_id: 7,
            name: 'Jenny',
        },
        {
            unique_id: 8,
            name: 'Jesse',
        },
        {
            unique_id: 9,
            name: 'Jasmine',
        },
        {
            unique_id: 10,
            name: 'Jasper',
        },
        {
            unique_id: 11,
            name: 'Jared',
        },
        {
            unique_id: 12,
            name: 'Jade',
        },
        {
            unique_id: 13,
            name: 'Jaden',
        },
        {
            unique_id: 14,
            name: 'Jax',
        },
        {
            unique_id: 15,
            name: 'Jaxson',
        },
        {
            unique_id: 16,
            name: 'Jay',
        },
        {
            unique_id: 17,
            name: 'Jayden',
        },
        {
            unique_id: 18,
            name: 'Jayce',
        },
        {
            unique_id: 19,
            name: 'Jayceon',
        },
        {
            unique_id: 20,
            name: 'Jaxton',
        }
    ]

    // add data
    pager.insertItems(data);

    // get 2nd page
    console.log('get 2nd page');
    pager.getPage(2).then((page) => {
        console.log(page);
    });

    // update data 8 name to Jesse -> Jumbo
    pager.editItem({
        unique_id: 8,
        name: 'Jumbo',
    });

    // check the data
    console.log('name 8 changed to Jumbo')
    pager.getPage(2).then((page) => {
        console.log(page);
    });

    // delete data 8
    pager.deleteItem(8);

    // check the data
    console.log('data 8 deleted');
    pager.getPage(2).then((page) => {
        console.log(page);
    });
</script>